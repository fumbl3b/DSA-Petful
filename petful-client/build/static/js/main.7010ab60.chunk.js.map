{"version":3,"sources":["Landing.js","config.js","services/people-service.js","services/pets-service.js","Adopt.js","root/Root.js","index.js"],"names":["Landing","props","to","process","peopleService","getPeople","fetch","config","method","headers","then","res","ok","json","e","Promise","reject","addPerson","person","body","JSON","stringify","petsService","getPets","adopt","type","Adopt","updatePets","setState","dog","cat","updatePeople","peopleArr","filter","state","name","me","people","adoptCat","prevState","slice","adopted","inLine","adoptDog","peopleString","result","i","length","serveACustomer","error","Math","floor","random","catch","message","count","getInLine","preventDefault","target","value","age","breed","description","gender","imageURL","story","autoAdopt","this","setInterval","onSubmit","htmlFor","id","className","src","alt","onClick","React","Component","Root","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7010ab60.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default function Landing(props) {\n  return (\n    <div>\n      <h2>quickly adopt a new friend</h2>\n      <p>welcome to petful, your one stop shop to adopting a cat or a dog.</p>\n      \n      <Link to={'/adopt'}><button>Lets adopt a Pet</button></Link>\n    </div>\n  )\n}","export default {\n  REACT_APP_API_ENDPOINT: process.env.REACT_APP_API_ENDPOINT || 'http://localhost:8000'\n}","import config from \"../config\";\n\nconst peopleService = {\n  getPeople() {\n    return fetch(`${config.REACT_APP_API_ENDPOINT}/people`, {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n    }).then((res) =>\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\n    );\n  },\n  addPerson(person) {\n    return fetch(`${config.REACT_APP_API_ENDPOINT}/people`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(person)\n    }).then((res) =>\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\n    );\n  },\n};\n\nexport default peopleService;","import config from \"../config\";\n\nconst petsService = {\n  getPets() {\n    return fetch(`${config.REACT_APP_API_ENDPOINT}/pets`, {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n    }).then((res) =>\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\n    );\n  },\n  adopt(type) {\n    return fetch(`${config.REACT_APP_API_ENDPOINT}/pets`, {\n      method: \"DELETE\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ type }),\n    }).then((res) => (!res.ok ? (e) => Promise.reject(e) : null));\n  },\n};\n\nexport default petsService;","import React from 'react'\nimport peopleService from './services/people-service'\nimport petsService from './services/pets-service'\n\nexport default class Adopt extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dog: {\n        age: 3,\n        breed: \"Golden Retriever\",\n        description:\n          \"A smiling golden-brown golden retreiver listening to music.\",\n        gender: \"Male\",\n        imageURL:\n          \"https://images.pexels.com/photos/33053/dog-young-dog-small-dog-maltese.jpg?auto=compress&cs=tinysrgb&dpr=1&w=500\",\n        name: \"Zim\",\n        story: \"Owner Passed away\",\n      },\n      cat: {\n        age: 3,\n        breed: \"Tabby\",\n        description: \"boxer dog\",\n        gender: \"Male\",\n        imageURL:\n          \"https://images.pexels.com/photos/1472999/pexels-photo-1472999.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\",\n        name: \"Vince the Pince\",\n        story: \"Found in neighborhood\",\n      },\n      people: null,\n      error: null,\n      autoAdopt: true,\n      count: 0,\n      adopted: null,\n      name: null,\n      inLine: false,\n      message: null\n    };\n  }\n\n  updatePets = () => {\n    return petsService.getPets().then(res => {\n      this.setState({ dog: res.dog, cat: res.cat });\n    });\n  }\n\n  updatePeople = () => {\n    return peopleService.getPeople().then((res) => {\n      let peopleArr;\n      peopleArr = res.filter(person => person !== null);\n      if (this.state.name) {\n        let me = this.state.name;\n        this.setState({ people: [...peopleArr, me] });\n        peopleService.addPerson(me);\n      } else {\n        this.setState({ people: [...peopleArr] });\n      }\n    });\n  }\n\n  adoptCat = () => {\n    petsService.adopt(\"cat\").then(() => {\n      this.setState((prevState) => ({\n        people: prevState.people.slice(1),\n      }));\n      this.setState({ name: null });\n      this.setState({ adopted: \"Meow! You adopted a cat :)\" });\n      this.setState({ inLine: false });\n    });\n  }\n\n  adoptDog = () => {\n    petsService.adopt(\"dog\").then(() => {\n      this.setState((prevState) => ({\n        people: prevState.people.slice(1),\n      }));\n      this.setState({ name: null });\n      this.setState({ adopted: \"Woof! You adopted a dog :)\" });\n      this.setState({ inLine: false });\n    });\n  }\n\n  peopleString = () => {\n    let result = \"\";\n    if (this.state.people) {\n      for (let i = 0; i < this.state.people.length; i++) {\n        if (\n          i === this.state.people.length - 1 &&\n          this.state.people.length !== 1\n        ) {\n          result = result + \"and \" + this.state.people[i];\n          break;\n        }\n        result = result + this.state.people[i] + \", \";\n      }\n    }\n\n    return result;\n  }\n\n\n  serveACustomer = () => {\n    if (!this.state.error) {\n      if (this.state.people && this.state.people[0] !== this.state.name) {\n        if (this.state.people && this.state.people.length > 1) {\n          let die = Math.floor(Math.random() * 2) + 1;\n          let type = \"cat\";\n          if (die === 2) {\n            type = \"dog\";\n          }\n          petsService\n            .adopt(type)\n            .then(() => {\n              this.setState((prevState) => ({\n                people: prevState.people.slice(1),\n              }));\n            })\n            .then(() => {\n              this.updatePets();\n            })\n            .catch((e) => this.setState({ error: e.message }));\n        }\n      }\n      if (this.state.people && this.state.people.length < 5) {\n        let people = [\"Dana\", \"Samantha Power\", \"Alister Crowley\", \"Max Michaels\"];\n        let person = people[this.state.count % people.length];\n\n        peopleService.addPerson(person).then((res) => {\n          this.setState((prevState) => ({\n            people: [...prevState.people, person],\n          }));\n\n          this.setState((prevState) => ({ count: prevState.count + 1 }));\n        });\n      }\n    }\n  }\n\n  getInLine = (e) => {\n    e.preventDefault();\n    const { name } = e.target;\n    if (!this.state.inLine) {\n      this.setState({ name: name.value });\n      this.updatePeople();\n      this.setState({ inLine: true });\n    } else {\n      this.setState({ message: \"You are already in line!\" });\n    }\n  }\n\n  componentDidMount() {\n    this.updatePets();\n    this.updatePeople();\n    setInterval(this.serveACustomer, 5000, 0);\n  }\n\n  render() {\n    if (this.state.people && this.state.people[0] !== this.state.name) {\n      return (\n        <section>\n          <p>{this.state.message}</p>\n          <form onSubmit={this.getInLine}>\n            <label htmlFor=\"name\">Your name:</label>\n            <input type=\"text\" id=\"name\" name=\"name\" />\n            <input type=\"submit\" value=\"Get In Line\" />\n          </form>\n          <p>{this.state.adopted}</p>\n          <p>\n            The current queue is: {this.peopleString()}. The pets up for\n            adoption are:\n          </p>{\" \"}\n          <br />\n          <div className=\"petDisplay\">\n            <p>\n              First we have {this.state.cat.name} a {this.state.cat.age} year\n              old {this.state.cat.gender} {this.state.cat.breed} whose story is\n              \"{this.state.cat.story}\"\n            </p>\n            <br />\n            <img\n              src={this.state.cat.imageURL}\n              alt={this.state.cat.description}\n            />\n            <br />\n          </div>\n          <div className=\"petDisplay\">\n            <p>\n              {\" \"}\n              And next is {this.state.dog.name} a {this.state.cat.age} year old{\" \"}\n              {this.state.dog.gender} {this.state.dog.breed} whose story is \"\n              {this.state.dog.story}\"\n            </p>\n            <br />\n            <img\n              src={this.state.dog.imageURL}\n              alt={this.state.dog.description}\n            />\n            <br />\n          </div>\n        </section>\n      );\n    } else {\n      return (\n        <section>\n          <p>{this.state.adopted}</p>\n          <p>\n            The current queue is: {this.peopleString()}. The pets up for\n            adoption are:\n          </p>{\" \"}\n          <br />\n          <button onClick={this.adoptCat}>Adopt the cat {this.state.cat.name}!</button>\n          <button onClick={this.adoptDog}>Adopt the dog {this.state.dog.name}!</button>\n          <div className=\"petDisplay\">\n            <p>\n              First we have {this.state.cat.name} a {this.state.cat.age} year\n              old {this.state.cat.gender} {this.state.cat.breed} whose story is\n              \"{this.state.cat.story}\"\n            </p>\n            <br />\n            <img\n              src={this.state.cat.imageURL}\n              alt={this.state.cat.description}\n            />\n            <br />\n          </div>\n          <div className=\"petDisplay\">\n            <p>\n              {\" \"}\n              And next is {this.state.dog.name} a {this.state.cat.age} year old{\" \"}\n              {this.state.dog.gender} {this.state.dog.breed} whose story is \"\n              {this.state.dog.story}\"\n            </p>\n            <br />\n            <img\n              src={this.state.dog.imageURL}\n              alt={this.state.dog.description}\n            />\n            <br />\n          </div>\n          \n        </section>\n      );\n    }\n  }\n}\n","import React from 'react'\nimport Landing from '../Landing'\nimport Adopt from '../Adopt'\nimport { Switch } from 'react-router-dom'\n\n\nclass Root extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Petful</h1>\n        <Switch>\n          <Landing exact path={'/'} />\n          <Adopt path={'/adopt'} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default Root\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport Root from './root/Root'\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Root />\n  </BrowserRouter>, \n  document.getElementById('root')\n);\n"],"sourceRoot":""}